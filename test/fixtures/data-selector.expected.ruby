(raise "Assertion failed" unless JSON.parse("{\"name\": \"Alice\"}", symbolize_names: true) == {name: "Alice"}; true)
(raise "Assertion failed" unless JSON.parse("[1, 2, 3]", symbolize_names: true) == [1, 2, 3]; true)
(raise "Assertion failed" unless JSON.parse("{\"user\": {\"name\": \"Bob\"}}", symbolize_names: true)[:user][:name] == "Bob"; true)
(raise "Assertion failed" unless JSON.parse("{\"active\": true}", symbolize_names: true)[:active] == true; true)
(raise "Assertion failed" unless JSON.parse("{\"count\": 42}", symbolize_names: true)[:count] == 42; true)
(raise "Assertion failed" unless [1, 2, 3] == [1, 2, 3]; true)
(raise "Assertion failed" unless {x: 10}[:x] == 10; true)
(raise "Assertion failed" unless (JSON.parse("not valid json", symbolize_names: true)).nil?; true)
(raise "Assertion failed" unless ((->(v) { case v when String; JSON.parse(v, symbolize_names: true) else v end }).call(nil)).nil?; true)
(raise "Assertion failed" unless ->() { v = JSON.parse("invalid", symbolize_names: true); return v unless v.nil?; {default: true} == {default: true} }.call; true)

